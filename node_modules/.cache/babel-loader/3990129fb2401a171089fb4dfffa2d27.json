{"ast":null,"code":"var _jsxFileName = \"/Users/Caleb.Hoffman/Desktop/training/my-app/src/DisplayData.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function DisplayData(props) {\n  //console.log(data)\n  const arr = [];\n  await props.repos.forEach(repo => {\n    gatherData(repo, props.start, props.end, props.token).then(res => {\n      arr.push(res);\n    });\n  });\n  console.log(arr); // const objs = await test();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: arr.map(result =>\n    /*#__PURE__*/\n    // console.log(result)\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: result.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Number closed : \", result.closedInfo.total_count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Number created : \", result.createdInfo.total_count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Average PR wait time : \", result.averageOpenTime]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"PRs closed without merge : \", result.closedNoMerge]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }, this); // {/* <div>\n  //   <h3>{data.name}</h3>\n  //   <ul>\n  //     <li>`Number closed : ${data.closedInfo.total_count}`</li>\n  //     <li>`Number created : ${data.createdInfo.total_count}`</li>\n  //     <li>`Average PR wait time (in open state) : ${data.averageOpenTime}`</li>\n  //     <li>`PRs closed without merge : ${data.closedNoMerge}`</li>\n  //   </ul>\n  // </div>  */}\n}\n\n_c = DisplayData;\n\nasync function getClosedPullRequestInformation(repo, start, end, token) {\n  const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+closed:${start}..${end}&per_page=100`, {\n    method: \"GET\",\n    headers: {\n      Authorization: `token ${token}`\n    }\n  });\n  const result = await response.json().then(result => {\n    return result;\n  });\n  return result;\n}\n\nasync function getCreatedPullRequestInformation(repo, start, end, token) {\n  const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+created:${start}..${end}&per_page=100`, {\n    method: \"GET\",\n    headers: {\n      Authorization: `token ${token}`\n    }\n  });\n  const result = await response.json().then(result => {\n    return result;\n  });\n  return result;\n}\n\nfunction getDifference(created, closed) {\n  const createDate = new Date(created);\n  const closedDate = new Date(closed);\n  const diffTime = Math.abs(closedDate - createDate);\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n}\n\nfunction calculateAverage(array) {\n  var total = 0;\n  var count = 0;\n  array.forEach(function (item, index) {\n    total += item;\n    count++;\n  });\n  var result = total / count;\n  return result.toFixed(2);\n}\n\nfunction getAverageOpenTime(pullRequests) {\n  var newArr = [];\n  pullRequests.forEach(pr => {\n    var daysOpen = getDifference(pr.created_at, pr.closed_at);\n    newArr.push(daysOpen);\n  });\n  return calculateAverage(newArr);\n}\n\nfunction getClosedPRsNoMerge(pullRequests) {\n  var noMergeCount = 0;\n  pullRequests.forEach(pr => {\n    if (pr.pull_request.merged_at === null) {\n      noMergeCount++;\n    }\n  });\n  return noMergeCount;\n}\n\nasync function gatherData(repo, start, end, token) {\n  var closedInfo = await getClosedPullRequestInformation(repo, start, end, token);\n  var createdInfo = await getCreatedPullRequestInformation(repo, start, end, token);\n  var averageOpenTime = getAverageOpenTime(closedInfo.items);\n  var closedNoMerge = getClosedPRsNoMerge(closedInfo.items); //accumulate data and put into custom data object to return and display\n\n  var arr = {\n    name: repo,\n    createdInfo: createdInfo,\n    closedInfo: closedInfo,\n    averageOpenTime: `${averageOpenTime} ${+averageOpenTime == 1 ? 'day' : 'days'}`,\n    closedNoMerge: closedNoMerge\n  };\n  return arr;\n} // function displayRepos(){\n// }\n\n\nexport default DisplayData;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayData\");","map":{"version":3,"names":["React","DisplayData","props","arr","repos","forEach","repo","gatherData","start","end","token","then","res","push","console","log","map","result","name","closedInfo","total_count","createdInfo","averageOpenTime","closedNoMerge","getClosedPullRequestInformation","response","fetch","method","headers","Authorization","json","getCreatedPullRequestInformation","getDifference","created","closed","createDate","Date","closedDate","diffTime","Math","abs","diffDays","ceil","calculateAverage","array","total","count","item","index","toFixed","getAverageOpenTime","pullRequests","newArr","pr","daysOpen","created_at","closed_at","getClosedPRsNoMerge","noMergeCount","pull_request","merged_at","items"],"sources":["/Users/Caleb.Hoffman/Desktop/training/my-app/src/DisplayData.js"],"sourcesContent":["import React from \"react\";\n  \nasync function DisplayData(props){\n    //console.log(data)\n  \n\n      const arr = []\n    await props.repos.forEach(repo => {\n        gatherData(repo, props.start, props.end, props.token).then(res => {\n   \n           arr.push(res)\n   \n       \n       })\n     })\n   console.log(arr)\n  \n // const objs = await test();\n\n\n\n      return (\n      <div>\n        {arr.map(result => (\n            // console.log(result)\n            <div>\n                <h3>{result.name}</h3>\n                <ul>\n                    <li>Number closed : {result.closedInfo.total_count}</li>\n                    <li>Number created : {result.createdInfo.total_count}</li>\n                    <li>Average PR wait time : {result.averageOpenTime}</li>\n                    <li>PRs closed without merge : {result.closedNoMerge}</li>\n                </ul>\n            </div> \n        ))}\n      </div>\n      );\n\n    \n    // {/* <div>\n    //   <h3>{data.name}</h3>\n    //   <ul>\n    //     <li>`Number closed : ${data.closedInfo.total_count}`</li>\n    //     <li>`Number created : ${data.createdInfo.total_count}`</li>\n    //     <li>`Average PR wait time (in open state) : ${data.averageOpenTime}`</li>\n    //     <li>`PRs closed without merge : ${data.closedNoMerge}`</li>\n    //   </ul>\n    // </div>  */}\n      \n\n}\n\nasync function getClosedPullRequestInformation(repo, start, end, token) {\n    const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+closed:${start}..${end}&per_page=100`, {\n        method: \"GET\",\n        headers: {\n            Authorization: `token ${token}`\n        }\n    });\n    const result = await response.json().then(result => {return result});\n\n    return result;\n}\n\n    async function getCreatedPullRequestInformation(repo, start, end, token) {\n        const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+created:${start}..${end}&per_page=100`, {\n            method: \"GET\",\n            headers: {\n                Authorization: `token ${token}`\n            }\n        });\n\n        const result = await response.json().then(result => {return result});\n\n        return result;\n    }\n\nfunction getDifference(created, closed){\n        const createDate = new Date(created);\n        const closedDate = new Date(closed);\n        const diffTime = Math.abs(closedDate - createDate);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); \n\n        return diffDays;\n    }\n\nfunction calculateAverage(array) {\n    var total = 0;\n    var count = 0;\n\n    array.forEach(function(item, index){\n        total += item;\n        count++;\n    });\n\n    var result = total/count;\n\n\n    return result.toFixed(2);\n}    \n\nfunction getAverageOpenTime(pullRequests){\n    var newArr = [];\n    pullRequests.forEach(pr => {\n        var daysOpen = getDifference(pr.created_at, pr.closed_at);\n        newArr.push(daysOpen);\n    });\n    \n    return calculateAverage(newArr);\n}    \n\nfunction getClosedPRsNoMerge(pullRequests){\n    var noMergeCount = 0;\n    pullRequests.forEach(pr => {\n        if (pr.pull_request.merged_at === null){\n            noMergeCount++;\n        }\n    });\n\n    return noMergeCount;\n}\n\nasync function gatherData(repo, start, end, token){\n    var closedInfo = await getClosedPullRequestInformation(repo, start, end, token);\n    var createdInfo = await getCreatedPullRequestInformation(repo, start, end, token);\n\n    var averageOpenTime = getAverageOpenTime(closedInfo.items);\n    var closedNoMerge = getClosedPRsNoMerge(closedInfo.items);\n\n   //accumulate data and put into custom data object to return and display\n   var arr = {\n       name: repo, \n       createdInfo: createdInfo, \n       closedInfo: closedInfo, \n       averageOpenTime: `${averageOpenTime} ${+ averageOpenTime == 1 ? 'day' : 'days'}`,\n       closedNoMerge: closedNoMerge\n    }\n \n\n   return arr;\n}\n\n// function displayRepos(){\n\n// }\n\nexport default DisplayData;"],"mappings":"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"},"metadata":{},"sourceType":"module"}