{"ast":null,"code":"var _jsxFileName = \"/Users/Caleb.Hoffman/Desktop/training/my-app/src/DisplayData.js\";\nimport React from \"react\"; // repos.forEach(repo => {\n//   gatherData(repo, start, end, token).then(res => {\n//     return ( \n//       displayData(res)\n//       );     \n//   })\n// })\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DisplayData() {\n  async function getClosedPullRequestInformation(repo, start, end, token) {\n    const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+closed:${start}..${end}&per_page=100`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `token ${token}`\n      }\n    });\n    const result = await response.json().then(result => {\n      return result;\n    });\n    return result;\n  }\n\n  async function getCreatedPullRequestInformation(repo, start, end, token) {\n    const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+created:${start}..${end}&per_page=100`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `token ${token}`\n      }\n    });\n    const result = await response.json().then(result => {\n      return result;\n    });\n    return result;\n  }\n\n  function getDifference(created, closed) {\n    const createDate = new Date(created);\n    const closedDate = new Date(closed);\n    const diffTime = Math.abs(closedDate - createDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  }\n\n  function calculateAverage(array) {\n    var total = 0;\n    var count = 0;\n    array.forEach(function (item, index) {\n      total += item;\n      count++;\n    });\n    var result = total / count;\n    return result.toFixed(2);\n  }\n\n  function getAverageOpenTime(pullRequests) {\n    var newArr = [];\n    pullRequests.forEach(pr => {\n      var daysOpen = getDifference(pr.created_at, pr.closed_at);\n      newArr.push(daysOpen);\n    });\n    return calculateAverage(newArr);\n  }\n\n  function getClosedPRsNoMerge(pullRequests) {\n    var noMergeCount = 0;\n    pullRequests.forEach(pr => {\n      if (pr.pull_request.merged_at === null) {\n        noMergeCount++;\n      }\n    });\n    return noMergeCount;\n  }\n\n  async function gatherData(repo, start, end, token) {\n    var closedInfo = await getClosedPullRequestInformation(repo, start, end, token);\n    var createdInfo = await getCreatedPullRequestInformation(repo, start, end, token);\n    var averageOpenTime = getAverageOpenTime(closedInfo.items);\n    var closedNoMerge = getClosedPRsNoMerge(closedInfo.items); //accumulate data and put into custom data object to return and display\n\n    var arr = {\n      name: repo,\n      createdInfo: createdInfo,\n      closedInfo: closedInfo,\n      averageOpenTime: `${averageOpenTime} ${+averageOpenTime == 1 ? 'day' : 'days'}`,\n      closedNoMerge: closedNoMerge\n    };\n    return arr;\n  }\n\n  function displayData(data) {\n    //console.log(data)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Repo Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Number closed : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Number created : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Average PR wait time \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"PRs closed without merge :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }, this) // {/* <div>\n    //   <h3>{data.name}</h3>\n    //   <ul>\n    //     <li>`Number closed : ${data.closedInfo.total_count}`</li>\n    //     <li>`Number created : ${data.createdInfo.total_count}`</li>\n    //     <li>`Average PR wait time (in open state) : ${data.averageOpenTime}`</li>\n    //     <li>`PRs closed without merge : ${data.closedNoMerge}`</li>\n    //   </ul>\n    // </div>  */}\n    ;\n  }\n}\n\n_c = DisplayData;\nexport default DisplayData;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayData\");","map":{"version":3,"names":["React","DisplayData","getClosedPullRequestInformation","repo","start","end","token","response","fetch","method","headers","Authorization","result","json","then","getCreatedPullRequestInformation","getDifference","created","closed","createDate","Date","closedDate","diffTime","Math","abs","diffDays","ceil","calculateAverage","array","total","count","forEach","item","index","toFixed","getAverageOpenTime","pullRequests","newArr","pr","daysOpen","created_at","closed_at","push","getClosedPRsNoMerge","noMergeCount","pull_request","merged_at","gatherData","closedInfo","createdInfo","averageOpenTime","items","closedNoMerge","arr","name","displayData","data"],"sources":["/Users/Caleb.Hoffman/Desktop/training/my-app/src/DisplayData.js"],"sourcesContent":["import React from \"react\";\n  \n\n  // repos.forEach(repo => {\n  //   gatherData(repo, start, end, token).then(res => {\n  //     return ( \n  //       displayData(res)\n\n  //       );     \n  //   })\n  // })\nfunction DisplayData(){\n\n    async function getClosedPullRequestInformation(repo, start, end, token) {\n        const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+closed:${start}..${end}&per_page=100`, {\n            method: \"GET\",\n            headers: {\n                Authorization: `token ${token}`\n            }\n        });\n        const result = await response.json().then(result => {return result});\n    \n        return result;\n    }\n    \n        async function getCreatedPullRequestInformation(repo, start, end, token) {\n            const response = await fetch(`https://api.github.com/search/issues?q=repo:nationwide-building-society/${repo}+is:pr+created:${start}..${end}&per_page=100`, {\n                method: \"GET\",\n                headers: {\n                    Authorization: `token ${token}`\n                }\n            });\n    \n            const result = await response.json().then(result => {return result});\n    \n            return result;\n        }\n    \n    function getDifference(created, closed){\n            const createDate = new Date(created);\n            const closedDate = new Date(closed);\n            const diffTime = Math.abs(closedDate - createDate);\n            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); \n    \n            return diffDays;\n        }\n    \n    function calculateAverage(array) {\n        var total = 0;\n        var count = 0;\n    \n        array.forEach(function(item, index){\n            total += item;\n            count++;\n        });\n    \n        var result = total/count;\n    \n    \n        return result.toFixed(2);\n    }    \n    \n    function getAverageOpenTime(pullRequests){\n        var newArr = [];\n        pullRequests.forEach(pr => {\n            var daysOpen = getDifference(pr.created_at, pr.closed_at);\n            newArr.push(daysOpen);\n        });\n        \n        return calculateAverage(newArr);\n    }    \n    \n    function getClosedPRsNoMerge(pullRequests){\n        var noMergeCount = 0;\n        pullRequests.forEach(pr => {\n            if (pr.pull_request.merged_at === null){\n                noMergeCount++;\n            }\n        });\n    \n        return noMergeCount;\n    }\n    \n    async function gatherData(repo, start, end, token){\n        var closedInfo = await getClosedPullRequestInformation(repo, start, end, token);\n        var createdInfo = await getCreatedPullRequestInformation(repo, start, end, token);\n    \n        var averageOpenTime = getAverageOpenTime(closedInfo.items);\n        var closedNoMerge = getClosedPRsNoMerge(closedInfo.items);\n    \n       //accumulate data and put into custom data object to return and display\n       var arr = {\n           name: repo, \n           createdInfo: createdInfo, \n           closedInfo: closedInfo, \n           averageOpenTime: `${averageOpenTime} ${+ averageOpenTime == 1 ? 'day' : 'days'}`,\n           closedNoMerge: closedNoMerge\n        }\n     \n    \n       return arr;\n    }\n    \n    function displayData(data) {\n    //console.log(data)\n      return (\n    \n    <div>\n      <h3>Repo Name</h3>\n      <ul>\n        <li>Number closed : </li>\n        <li>Number created : </li>\n        <li>Average PR wait time </li>\n        <li>PRs closed without merge :</li>\n      </ul>\n    </div> \n    \n    // {/* <div>\n    //   <h3>{data.name}</h3>\n    //   <ul>\n    //     <li>`Number closed : ${data.closedInfo.total_count}`</li>\n    //     <li>`Number created : ${data.createdInfo.total_count}`</li>\n    //     <li>`Average PR wait time (in open state) : ${data.averageOpenTime}`</li>\n    //     <li>`PRs closed without merge : ${data.closedNoMerge}`</li>\n    //   </ul>\n    // </div>  */}\n      )\n    }\n\n\n}\n\nexport default DisplayData;"],"mappings":"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"},"metadata":{},"sourceType":"module"}